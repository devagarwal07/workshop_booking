/* Responsive & Accessibility Enhancements
   Mobile-first additions layered on top of existing base.css & Bootstrap.
   Keep file lean to preserve performance. */

:root {
  --wb-font-scale-1: clamp(0.875rem, 0.82rem + 0.3vw, 1rem);
  --wb-font-scale-2: clamp(1rem, 0.95rem + 0.5vw, 1.15rem);
  --wb-font-scale-3: clamp(1.15rem, 1rem + 0.9vw, 1.35rem);
  --wb-radius-sm: 4px;
  --wb-radius-md: 8px;
  --wb-focus-ring: 0 0 0 3px rgba(0,123,255,.4);
}

html { scroll-behavior: smooth; }
body { font-size: var(--wb-font-scale-2); line-height:1.5; -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; }

h1,h2,h3,h4 { line-height:1.2; font-weight:600; }

/* Skip link */
.skip-link { position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden; }
.skip-link:focus { position: static; width: auto; height: auto; margin: .5rem; padding:.5rem .75rem; background:#222; color:#fff; z-index:1050; border-radius: var(--wb-radius-sm); }

/* Focus styles */
:focus-visible { outline: 2px solid #0d6efd; outline-offset:2px; }

/* Utility spacing (minimal) */
.wb-stack > * + * { margin-top: var(--wb-stack-space, 1rem); }
.wb-flow > * + * { margin-top: .75rem; }

/* Card-like container for main content if not already styled */
.base-content > *:first-child { margin-top: 1rem; }

@media (min-width: 992px) { .base-content { padding-top: .5rem; } }

/* Responsive tables: stack on narrow screens */
.table-responsive-stack table { width:100%; }
.table-responsive-stack td, .table-responsive-stack th { padding:.5rem .75rem; }
@media (max-width: 640px) {
  .table-responsive-stack table thead { display:none; }
  .table-responsive-stack tr { display:block; border:1px solid #e5e5e5; margin-bottom:.75rem; border-radius: var(--wb-radius-sm); background:#fff; }
  .table-responsive-stack td { display:flex; justify-content: space-between; align-items:center; font-size: var(--wb-font-scale-1); border-bottom:1px dashed #e0e0e0; }
  .table-responsive-stack td:last-child { border-bottom:none; }
  .table-responsive-stack td::before { content: attr(data-label); font-weight:600; padding-right:.75rem; }
}

/* Pagination improvements */
.pagination { flex-wrap: wrap; gap: .25rem; }
.pagination .page-link { min-width:2.25rem; text-align:center; border-radius: var(--wb-radius-sm); }
@media (max-width:480px) { .pagination .page-link { padding:.4rem .6rem; font-size:.8rem; } }

/* Larger tap targets for buttons/links */
@media (hover:none) { a, button { min-height:44px; } }

/* Dark mode (opt-in via data-theme="dark" on html) */
html[data-theme='dark'] body { background:#121212; color:#e2e2e2; }
html[data-theme='dark'] .navbar { background:#111 !important; }
html[data-theme='dark'] a { color:#66b2ff; }

/* Reduce motion */
@media (prefers-reduced-motion: reduce) { * { animation: none !important; transition: none !important; scroll-behavior: auto !important; } }

/* Footer */
footer { font-size: .85rem; }

/* Helper visually hidden focusable (Bootstrap like) */
.visually-hidden-focusable:not(:focus):not(:focus-within) { position:absolute !important; width:1px !important; height:1px !important; padding:0 !important; margin:-1px !important; overflow:hidden !important; clip:rect(0,0,0,0) !important; border:0 !important; }

/* Form enhancements minimal */
form label { font-size:.85rem; text-transform:uppercase; letter-spacing:.05em; font-weight:600; }

/* Nav spacing refinement */
.navbar-nav .nav-link { padding:.5rem .75rem; }

/* Utility classes */
.text-small { font-size:.8rem; }
.max-w-readable { max-width: 68ch; }

/* End of responsive.css */
